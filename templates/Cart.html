<!DOCTYPE html>
{% extends "Main.html" %}
{% load static %}
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="{% static "styles/main.css" %}">
</head>
<body>

{% block content %}

	<div class="container">
		<h1> cart </h1>

		<div class="row">
			<div class="col-lg-12">
				<div class="card border-success mb-4">
					<div class="card-header">
						<a class="btn btn-outline-dark" href="{% url "store" %}">&#x2190;Continue Shopping</a>
					</div>
					<div class="card-body ">

						<table class="table ">
							<tr>
								<th><h5>Items : <strong>{{ order.get_cart_items }}</strong></h5></th>
								<th><h5>Total : <strong>${{ order.get_cart_total|floatformat:2 }}</strong></h5></th>
								<th>
									<a style="float: right ; margin: 5px;" class="btn btn-success"
									   href="{% url "checkout" %}">Checkout</a>
									<a style="float: right ; margin: 5px;" class="btn btn-danger"
									   href="{% url "delete-items" order.id %}">Clear All</a>
								</th>
							</tr>
						</table>
					</div>
				</div>
				<div class="card">
					<div class="cart-row card-header ">
						<div style="flex: 2"></div>
						<div style="flex: 2"><strong>Item</strong></div>
						<div style="flex: 1"><strong>Price</strong></div>
						<div style="flex: 1"><strong>Quantity</strong></div>
						<div style="flex: 1"><strong>Total</strong></div>
					</div>
					{% for item in items %}
						<div class="cart-row ">
							<div style="flex: 2"><img src="{{ item.product.imageURL }}" class="row-image "></div>
							<div style="flex: 2">{{ item.product.name }}</div>
							<div style="flex: 1">$ {{ item.product.price|floatformat:2 }}</div>
							<div style="flex: 1">
								<p class="quantity">{{ item.quantity }}</p>
								<div class="quantity">
									<img data-product="{{ item.product.id }} " data-action="add"
									     class="chg-quantity update-cart"
									     src="https://www.svgrepo.com/download/93813/up-arrow.svg">
									<img data-product="{{ item.product.id }} " data-action="remove"
									     class="chg-quantity update-cart"
									     src="https://www.svgrepo.com/show/80156/down-arrow.svg">
								</div>
							</div>
							<div class="pt-1" style="flex: 1">$ {{ item.get_total }}</div>
						</div>
						{% if item.id != items.count %}
							<hr/>
						{% endif %}
					{% endfor %}
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	        crossorigin="anonymous"></script>

	<script type = "text/javascript" src = "{% static "js/cart.js" %}"></script>

{% endblock %}
</body>
</html>